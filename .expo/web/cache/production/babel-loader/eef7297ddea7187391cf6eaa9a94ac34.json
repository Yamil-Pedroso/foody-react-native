{"ast":null,"code":"import _taggedTemplateLiteralLoose from\"@babel/runtime/helpers/taggedTemplateLiteralLoose\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{NativeWindStyleSheet as _NativeWindStyleSheet}from\"nativewind\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18,_templateObject19,_templateObject20,_templateObject21;import React,{useLayoutEffect,useState,useEffect}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import Image from\"react-native-web/dist/exports/Image\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import{useRoute,useNavigation}from'@react-navigation/native';import Icon from\"@expo/vector-icons/Ionicons\";import tw from'twrnc';import{urlFor}from\"../sanity\";import DishRow from\"../components/DishRow\";import sanityClient from\"../sanity\";import BasketIcon from\"../components/BasketIcon\";import{useDispatch}from'react-redux';import{setRestaurant}from\"../features/restaurantSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var RestaurantScreen=function RestaurantScreen(){var navigation=useNavigation();var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),dishesApi=_useState2[0],setDishesApi=_useState2[1];var _useRoute=useRoute(),_useRoute$params=_useRoute.params,id=_useRoute$params.id,imgUrl=_useRoute$params.imgUrl,title=_useRoute$params.title,rating=_useRoute$params.rating,genre=_useRoute$params.genre,address=_useRoute$params.address,short_description=_useRoute$params.short_description,dishes=_useRoute$params.dishes,long=_useRoute$params.long,lat=_useRoute$params.lat;useLayoutEffect(function(){navigation.setOptions({headerShown:false});},[]);useEffect(function(){dispatch(setRestaurant({id:id,imgUrl:imgUrl,title:title,rating:rating,genre:genre,address:address,short_description:short_description,dishes:dishes,long:long,lat:lat}));},[]);useEffect(function(){sanityClient.fetch(\"\\n            *[_type == \\\"restaurant\\\" && _id == \\\"\"+id+\"\\\"] {\\n                ...,\\n                dishes[]->\\n            }\\n        \").then(function(data){setDishesApi(data[0].dishes);});},[]);return _jsxs(_Fragment,{children:[_jsx(BasketIcon,{}),_jsxs(ScrollView,{children:[_jsxs(View,{style:tw(_templateObject||(_templateObject=_taggedTemplateLiteralLoose([\"relative\"]))),children:[_jsx(Image,{source:{uri:urlFor(imgUrl).url()},style:tw(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose([\"w-full h-56 rounded-sm bg-gray-300 p4\"])))}),_jsx(TouchableOpacity,{onPress:function onPress(){return navigation.goBack();},style:tw(_templateObject3||(_templateObject3=_taggedTemplateLiteralLoose([\"absolute top-14 left-5 p-2 bg-gray-100 rounded-full\"]))),children:_jsx(Icon,{name:\"arrow-back\",size:25,color:\"#00CCBB\"})})]}),_jsxs(View,{style:tw(_templateObject4||(_templateObject4=_taggedTemplateLiteralLoose([\"bg-white\"]))),children:[_jsxs(View,{style:tw(_templateObject5||(_templateObject5=_taggedTemplateLiteralLoose([\"pt-4 px-4\"]))),children:[_jsx(Text,{style:tw(_templateObject6||(_templateObject6=_taggedTemplateLiteralLoose([\"text-3xl font-bold\"]))),children:title}),_jsxs(View,{style:tw(_templateObject7||(_templateObject7=_taggedTemplateLiteralLoose([\"flex-row items-center my-1\"]))),children:[_jsxs(View,{style:tw(_templateObject8||(_templateObject8=_taggedTemplateLiteralLoose([\"flex flex-row items-center\"]))),children:[_jsx(Icon,{name:\"star\",size:22,color:\"green\",style:tw(_templateObject9||(_templateObject9=_taggedTemplateLiteralLoose([\"opacity-50\"])))}),_jsxs(Text,{style:tw(_templateObject10||(_templateObject10=_taggedTemplateLiteralLoose([\"text-xs text-gray-500 ml-1\"]))),children:[_jsx(Text,{style:tw(_templateObject11||(_templateObject11=_taggedTemplateLiteralLoose([\"text-green-500\"]))),children:rating}),\" \\\"pending...\\\"\"]})]}),_jsxs(View,{style:tw(_templateObject12||(_templateObject12=_taggedTemplateLiteralLoose([\"flex flex-row items-center\"]))),children:[_jsx(Icon,{name:\"location\",size:22,color:\"gray\",style:tw(_templateObject13||(_templateObject13=_taggedTemplateLiteralLoose([\"opacity-40\"])))}),_jsxs(Text,{style:tw(_templateObject14||(_templateObject14=_taggedTemplateLiteralLoose([\"text-xs text-gray-500 ml-1\"]))),children:[\"Nearby \",address]})]})]}),_jsx(Text,{style:tw(_templateObject15||(_templateObject15=_taggedTemplateLiteralLoose([\"text-xs text-gray-500 mt-2 pb-4\"]))),children:short_description})]}),_jsxs(TouchableOpacity,{style:tw(_templateObject16||(_templateObject16=_taggedTemplateLiteralLoose([\"flex-row items-center p-4 border-t border-gray-200\"]))),children:[_jsx(Icon,{name:\"help-circle\",size:20,color:\"gray\",style:tw(_templateObject17||(_templateObject17=_taggedTemplateLiteralLoose([\"opacity-60\"])))}),_jsx(Text,{style:tw(_templateObject18||(_templateObject18=_taggedTemplateLiteralLoose([\"pl-2 flex-1 text-md font-bold\"]))),children:\"Have a food allergy?\"}),_jsx(Icon,{name:\"chevron-forward\",size:20,color:\"#00CCBB\",style:tw(_templateObject19||(_templateObject19=_taggedTemplateLiteralLoose([\"opacity-60\"])))})]})]}),_jsxs(View,{style:tw(_templateObject20||(_templateObject20=_taggedTemplateLiteralLoose([\"pb-36\"]))),children:[_jsx(Text,{style:tw(_templateObject21||(_templateObject21=_taggedTemplateLiteralLoose([\"text-xl font-bold px-4 pt-4\"]))),children:\"Menu\"}),dishesApi.map(function(dish){return _jsx(DishRow,{id:dish._id,image:dish.image,name:dish.name,description:dish.short_description,price:dish.price},dish._id);})]})]})]});};export default RestaurantScreen;_NativeWindStyleSheet.create({styles:{\"absolute\":{\"position\":\"absolute\"},\"relative\":{\"position\":\"relative\"},\"top-14\":{\"top\":56},\"left-5\":{\"left\":20},\"my-1\":{\"marginTop\":4,\"marginBottom\":4},\"ml-1\":{\"marginLeft\":4},\"mt-2\":{\"marginTop\":8},\"flex\":{\"display\":\"flex\"},\"h-56\":{\"height\":224},\"w-full\":{\"width\":\"100%\"},\"flex-1\":{\"flexGrow\":1,\"flexShrink\":1,\"flexBasis\":\"0%\"},\"flex-row\":{\"flexDirection\":\"row\"},\"items-center\":{\"alignItems\":\"center\"},\"rounded-sm\":{\"borderTopLeftRadius\":2,\"borderTopRightRadius\":2,\"borderBottomRightRadius\":2,\"borderBottomLeftRadius\":2},\"rounded-full\":{\"borderTopLeftRadius\":9999,\"borderTopRightRadius\":9999,\"borderBottomRightRadius\":9999,\"borderBottomLeftRadius\":9999},\"border-t\":{\"borderTopWidth\":1},\"border-gray-200\":{\"borderTopColor\":\"#e5e7eb\",\"borderRightColor\":\"#e5e7eb\",\"borderBottomColor\":\"#e5e7eb\",\"borderLeftColor\":\"#e5e7eb\"},\"bg-gray-300\":{\"backgroundColor\":\"#d1d5db\"},\"bg-gray-100\":{\"backgroundColor\":\"#f3f4f6\"},\"bg-white\":{\"backgroundColor\":\"#fff\"},\"p-2\":{\"paddingTop\":8,\"paddingRight\":8,\"paddingBottom\":8,\"paddingLeft\":8},\"p-4\":{\"paddingTop\":16,\"paddingRight\":16,\"paddingBottom\":16,\"paddingLeft\":16},\"px-4\":{\"paddingLeft\":16,\"paddingRight\":16},\"pt-4\":{\"paddingTop\":16},\"pb-4\":{\"paddingBottom\":16},\"pl-2\":{\"paddingLeft\":8},\"pb-36\":{\"paddingBottom\":144},\"font-bold\":{\"fontWeight\":\"700\"},\"text-gray-500\":{\"color\":\"#6b7280\"},\"text-green-500\":{\"color\":\"#22c55e\"},\"opacity-50\":{\"opacity\":0.5},\"opacity-40\":{\"opacity\":0.4},\"opacity-60\":{\"opacity\":0.6},\"text-3xl\":{\"fontSize\":30,\"lineHeight\":36},\"text-xs\":{\"fontSize\":12,\"lineHeight\":16},\"text-xl\":{\"fontSize\":20,\"lineHeight\":28}}});","map":{"version":3,"names":["React","useLayoutEffect","useState","useEffect","useRoute","useNavigation","Icon","tw","urlFor","DishRow","sanityClient","BasketIcon","useDispatch","setRestaurant","RestaurantScreen","navigation","dispatch","dishesApi","setDishesApi","params","id","imgUrl","title","rating","genre","address","short_description","dishes","long","lat","setOptions","headerShown","fetch","then","data","uri","url","goBack","map","dish","_id","image","name","price"],"sources":["/Users/yamistudio/projects/React-native/foody-react-native/screens/RestaurantScreen.js"],"sourcesContent":["import React, { useLayoutEffect, useState, useEffect } from 'react';\nimport { View, Text, Image, ScrollView, TouchableOpacity } from 'react-native';\nimport { useRoute, useNavigation } from '@react-navigation/native';\nimport Icon from 'react-native-vector-icons/Ionicons'\nimport tw from 'twrnc';\nimport { urlFor } from '../sanity';\nimport DishRow from '../components/DishRow';\nimport sanityClient from '../sanity'\nimport BasketIcon from '../components/BasketIcon';\nimport { useDispatch } from 'react-redux';\nimport { setRestaurant } from '../features/restaurantSlice';\n\nconst RestaurantScreen = () => {\n    const navigation = useNavigation();\n    const dispatch = useDispatch();\n    const [dishesApi , setDishesApi] = useState([]);\n    const {\n        params: {\n            id,\n            imgUrl,\n            title,\n            rating,\n            genre,\n            address,\n            short_description,\n            dishes,\n            long,\n            lat\n        }\n    } = useRoute();\n\n    useLayoutEffect(() => {\n        navigation.setOptions({\n            headerShown: false,\n        });\n    }, []);\n\n    useEffect(() => {\n        dispatch(setRestaurant({\n            id,\n            imgUrl,\n            title,\n            rating,\n            genre,\n            address,\n            short_description,\n            dishes,\n            long,\n            lat\n        })\n        )\n    },[]);\n\n    useEffect(() => {\n        sanityClient.fetch(`\n            *[_type == \"restaurant\" && _id == \"${id}\"] {\n                ...,\n                dishes[]->\n            }\n        `).then((data) => {\n            setDishesApi(data[0].dishes)\n        })\n    }, []);\n\n    return (\n        <>\n            <BasketIcon />\n            <ScrollView>\n                <View style={tw`relative`}>\n                <Image source={{\n                    uri: urlFor(imgUrl).url()\n                }}\n                style={tw`w-full h-56 rounded-sm bg-gray-300 p4`} />\n\n                <TouchableOpacity\n                    onPress={() => navigation.goBack()}\n                    style={tw`absolute top-14 left-5 p-2 bg-gray-100 rounded-full`}>\n                    <Icon name=\"arrow-back\" size={25} color=\"#00CCBB\" />\n                </TouchableOpacity>\n                </View>\n\n                <View style={tw`bg-white`}>\n                    <View style={tw`pt-4 px-4`}>\n                        <Text style={tw`text-3xl font-bold`}>{title}</Text>\n                        <View style={tw`flex-row items-center my-1`}>\n\n                            <View style={tw`flex flex-row items-center`}>\n                            <Icon name=\"star\" size={22} color=\"green\" style={tw`opacity-50`}/>\n                            <Text  style={tw`text-xs text-gray-500 ml-1`}>\n                                <Text style={tw`text-green-500`}>{rating}</Text> \"pending...\"\n                            </Text>\n                            </View>\n\n                            <View style={tw`flex flex-row items-center`}>\n                            <Icon name=\"location\" size={22} color=\"gray\" style={tw`opacity-40`}/>\n                            <Text  style={tw`text-xs text-gray-500 ml-1`}>Nearby {address}</Text>\n                            </View>\n\n                        </View>\n\n                        <Text style={tw`text-xs text-gray-500 mt-2 pb-4`}>{short_description}</Text>\n                    </View>\n\n                    <TouchableOpacity style={tw`flex-row items-center p-4 border-t border-gray-200`}>\n                        <Icon  name=\"help-circle\" size={20} color=\"gray\" style={tw`opacity-60`} />\n                        <Text style={tw`pl-2 flex-1 text-md font-bold`}>\n                            Have a food allergy?\n                        </Text>\n                        {/* chevron right icon */ }\n                        <Icon name=\"chevron-forward\" size={20} color=\"#00CCBB\" style={tw`opacity-60`} />\n                    </TouchableOpacity>\n                </View>\n\n                <View style={tw`pb-36`}>\n                    <Text style={tw`text-xl font-bold px-4 pt-4`}>Menu</Text>\n\n                    {/* Dishrows */}\n                    {dishesApi.map((dish) => (\n                        <DishRow\n                            key={dish._id}\n                            id={dish._id}\n                            image={dish.image}\n                            name={dish.name}\n                            description={dish.short_description}\n                            price={dish.price}\n                        />\n                    ))}\n\n\n                </View>\n            </ScrollView>\n        </>\n    );\n}\n\nexport default RestaurantScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}