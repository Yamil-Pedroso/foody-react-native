{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import{createSlice}from'@reduxjs/toolkit';var initialState={items:[]};export var basketSlice=createSlice({name:'basket',initialState:initialState,reducers:{addToBasket:function addToBasket(state,action){state.items=[].concat(_toConsumableArray(state.items),[action.payload]);console.log(\"You have added: \"+state.items.length+\" dish/es to your basket\");},removeFromBasket:function removeFromBasket(state,action){var index=state.items.findIndex(function(basketItem){return basketItem.id===action.payload.id;});var newBasket=_toConsumableArray(state.items);console.log(\"You had removed one \"+newBasket[index].name+\" from your basket of \"+newBasket.length+\" dish/es now you have \"+(newBasket.length-1)+\" dish/es in your basket\");if(index>=0){newBasket.splice(index,1);}else{console.warn(\"Cant remove product (id: \"+action.payload.id+\") as its not in basket!\");}state.items=newBasket;}}});var _basketSlice$actions=basketSlice.actions,addToBasket=_basketSlice$actions.addToBasket,removeFromBasket=_basketSlice$actions.removeFromBasket;export{addToBasket,removeFromBasket};export var selectBasketItems=function selectBasketItems(state){return state.basket.items;};export var selectBasketItemsWithId=function selectBasketItemsWithId(state,id){return state.basket.items.filter(function(item){return item.id===id;}).length;};export var selectBasketTotal=function selectBasketTotal(state){return state.basket.items.reduce(function(total,item){return total+=item.price;},0);};export default basketSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","items","basketSlice","name","reducers","addToBasket","state","action","payload","console","log","length","removeFromBasket","index","findIndex","basketItem","id","newBasket","splice","warn","actions","selectBasketItems","basket","selectBasketItemsWithId","filter","item","selectBasketTotal","reduce","total","price","reducer"],"sources":["/Users/yamistudio/projects/React-native/foody-react-native/features/basketSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\n\nconst initialState = {\n  items: [],\n}\n\nexport const basketSlice = createSlice({\n  name: 'basket',\n  initialState,\n  reducers: {\n    addToBasket: (state, action) => {\n        state.items = [...state.items, action.payload]\n        console.log(`You have added: ${state.items.length} dish/es to your basket`)\n    },\n    removeFromBasket: (state, action) => {\n       const index = state.items.findIndex( basketItem => basketItem.id === action.payload.id);\n         let newBasket = [...state.items];\n         console.log(`You had removed one ${newBasket[index].name} from your basket of ${newBasket.length} dish/es now you have ${newBasket.length - 1} dish/es in your basket`)\n            if (index >= 0) {\n                newBasket.splice(index, 1);\n            } else {\n                console.warn(\n                    `Cant remove product (id: ${action.payload.id}) as its not in basket!`\n                )\n            }\n\n        state.items = newBasket;\n    },\n  }\n})\n\nexport const { addToBasket, removeFromBasket  } = basketSlice.actions\n\nexport const selectBasketItems = (state) => state.basket.items\n\nexport const selectBasketItemsWithId = (state, id) => state.basket.items.filter((item) => item.id === id).length\n\nexport const selectBasketTotal = (state) => state.basket.items.reduce((total, item) => total += item.price, 0)\n\nexport default basketSlice.reducer\n"],"mappings":"yEAAA,OAASA,WAAW,KAAQ,kBAAkB,CAE9C,GAAMC,aAAY,CAAG,CACnBC,KAAK,CAAE,EACT,CAAC,CAED,MAAO,IAAMC,YAAW,CAAGH,WAAW,CAAC,CACrCI,IAAI,CAAE,QAAQ,CACdH,YAAY,CAAZA,YAAY,CACZI,QAAQ,CAAE,CACRC,WAAW,CAAE,qBAACC,KAAK,CAAEC,MAAM,CAAK,CAC5BD,KAAK,CAACL,KAAK,8BAAOK,KAAK,CAACL,KAAK,GAAEM,MAAM,CAACC,OAAO,EAAC,CAC9CC,OAAO,CAACC,GAAG,oBAAoBJ,KAAK,CAACL,KAAK,CAACU,MAAM,2BAA0B,CAC/E,CAAC,CACDC,gBAAgB,CAAE,0BAACN,KAAK,CAAEC,MAAM,CAAK,CAClC,GAAMM,MAAK,CAAGP,KAAK,CAACL,KAAK,CAACa,SAAS,CAAE,SAAAC,UAAU,QAAIA,WAAU,CAACC,EAAE,GAAKT,MAAM,CAACC,OAAO,CAACQ,EAAE,GAAC,CACrF,GAAIC,UAAS,oBAAOX,KAAK,CAACL,KAAK,CAAC,CAChCQ,OAAO,CAACC,GAAG,wBAAwBO,SAAS,CAACJ,KAAK,CAAC,CAACV,IAAI,yBAAwBc,SAAS,CAACN,MAAM,2BAAyBM,SAAS,CAACN,MAAM,CAAG,CAAC,4BAA0B,CACpK,GAAIE,KAAK,EAAI,CAAC,CAAE,CACZI,SAAS,CAACC,MAAM,CAACL,KAAK,CAAE,CAAC,CAAC,CAC9B,CAAC,IAAM,CACHJ,OAAO,CAACU,IAAI,6BACoBZ,MAAM,CAACC,OAAO,CAACQ,EAAE,2BAChD,CACL,CAEJV,KAAK,CAACL,KAAK,CAAGgB,SAAS,CAC3B,CACF,CACF,CAAC,CAAC,CAEK,yBAA2Cf,WAAW,CAACkB,OAAO,CAAtDf,WAAW,sBAAXA,WAAW,CAAEO,gBAAgB,sBAAhBA,gBAAgB,CAAyB,qCAErE,MAAO,IAAMS,kBAAiB,CAAG,QAApBA,kBAAiB,CAAIf,KAAK,QAAKA,MAAK,CAACgB,MAAM,CAACrB,KAAK,GAE9D,MAAO,IAAMsB,wBAAuB,CAAG,QAA1BA,wBAAuB,CAAIjB,KAAK,CAAEU,EAAE,QAAKV,MAAK,CAACgB,MAAM,CAACrB,KAAK,CAACuB,MAAM,CAAC,SAACC,IAAI,QAAKA,KAAI,CAACT,EAAE,GAAKA,EAAE,GAAC,CAACL,MAAM,GAEhH,MAAO,IAAMe,kBAAiB,CAAG,QAApBA,kBAAiB,CAAIpB,KAAK,QAAKA,MAAK,CAACgB,MAAM,CAACrB,KAAK,CAAC0B,MAAM,CAAC,SAACC,KAAK,CAAEH,IAAI,QAAKG,MAAK,EAAIH,IAAI,CAACI,KAAK,GAAE,CAAC,CAAC,GAE9G,cAAe3B,YAAW,CAAC4B,OAAO"},"metadata":{},"sourceType":"module"}