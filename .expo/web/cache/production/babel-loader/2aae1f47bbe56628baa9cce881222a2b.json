{"ast":null,"code":"import _taggedTemplateLiteralLoose from\"@babel/runtime/helpers/taggedTemplateLiteralLoose\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{NativeWindStyleSheet as _NativeWindStyleSheet}from\"nativewind\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11;import React,{useState}from'react';import Currency from'react-currency-formatter';import tw from'twrnc';import Icon from\"@expo/vector-icons/Ionicons\";import{urlFor}from\"../sanity\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Image from\"react-native-web/dist/exports/Image\";import{useDispatch,useSelector}from'react-redux';import{addToBasket,removeFromBasket,selectBasketItemsWithId}from\"../features/basketSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DishRow=function DishRow(_ref){var id=_ref.id,name=_ref.name,description=_ref.description,price=_ref.price,image=_ref.image;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isPressed=_useState2[0],setIsPressed=_useState2[1];var items=useSelector(function(state){return selectBasketItemsWithId(state,id);});var dispatch=useDispatch();var addItemToBasket=function addItemToBasket(){dispatch(addToBasket({id:id,name:name,description:description,price:price,image:image}));};var removeItemFromBasket=function removeItemFromBasket(){dispatch(removeFromBasket({id:id}));};console.log(items);return _jsxs(_Fragment,{children:[_jsx(TouchableOpacity,{onPress:function onPress(){return setIsPressed(!isPressed);},style:tw(_templateObject||(_templateObject=_taggedTemplateLiteralLoose([\"bg-white border p-4 border-gray-200\\n                \",\"\\n              \"])),isPressed&&\"border-b-0\"),children:_jsxs(View,{style:tw(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose([\"flex-row\"]))),children:[_jsxs(View,{style:tw(_templateObject3||(_templateObject3=_taggedTemplateLiteralLoose([\"flex-1 pr-2\"]))),children:[_jsx(Text,{style:tw(_templateObject4||(_templateObject4=_taggedTemplateLiteralLoose([\"text-lg mb-1\"]))),children:name}),_jsx(Text,{style:tw(_templateObject5||(_templateObject5=_taggedTemplateLiteralLoose([\"text-gray-400\"]))),children:description}),_jsx(Text,{style:tw(_templateObject6||(_templateObject6=_taggedTemplateLiteralLoose([\"text-gray-400\"]))),children:_jsx(Currency,{quantity:price,currency:\"CHF\"})})]}),_jsx(View,{children:_jsx(Image,{source:{uri:urlFor(image).url()},style:tw(_templateObject7||(_templateObject7=_taggedTemplateLiteralLoose([\"w-20 h-20 bg-gray-300 p-4\"])))})})]})}),isPressed&&_jsx(View,{style:tw(_templateObject8||(_templateObject8=_taggedTemplateLiteralLoose([\"bg-white px-4 p-2\"]))),children:_jsxs(View,{style:tw(_templateObject9||(_templateObject9=_taggedTemplateLiteralLoose([\"flex-row items-center\"]))),children:[_jsx(TouchableOpacity,{disabled:!items,onPress:removeItemFromBasket,children:_jsx(Icon,{name:\"remove-circle\",size:40,color:items>0?\"#00CCBB\":\"gray\"})}),_jsx(Text,{style:tw(_templateObject10||(_templateObject10=_taggedTemplateLiteralLoose([\"ml-1\"]))),children:items}),_jsx(TouchableOpacity,{onPress:addItemToBasket,style:tw(_templateObject11||(_templateObject11=_taggedTemplateLiteralLoose([\"ml-1\"]))),children:_jsx(Icon,{name:\"add-circle\",size:40,color:\"#00CCBB\"})})]})})]});};export default DishRow;_NativeWindStyleSheet.create({styles:{\"mb-1\":{\"marginBottom\":4},\"ml-1\":{\"marginLeft\":4},\"h-20\":{\"height\":80},\"w-20\":{\"width\":80},\"flex-1\":{\"flexGrow\":1,\"flexShrink\":1,\"flexBasis\":\"0%\"},\"flex-row\":{\"flexDirection\":\"row\"},\"items-center\":{\"alignItems\":\"center\"},\"border\":{\"borderTopWidth\":1,\"borderRightWidth\":1,\"borderBottomWidth\":1,\"borderLeftWidth\":1},\"border-b-0\":{\"borderBottomWidth\":0},\"border-gray-200\":{\"borderTopColor\":\"#e5e7eb\",\"borderRightColor\":\"#e5e7eb\",\"borderBottomColor\":\"#e5e7eb\",\"borderLeftColor\":\"#e5e7eb\"},\"bg-white\":{\"backgroundColor\":\"#fff\"},\"bg-gray-300\":{\"backgroundColor\":\"#d1d5db\"},\"p-4\":{\"paddingTop\":16,\"paddingRight\":16,\"paddingBottom\":16,\"paddingLeft\":16},\"p-2\":{\"paddingTop\":8,\"paddingRight\":8,\"paddingBottom\":8,\"paddingLeft\":8},\"px-4\":{\"paddingLeft\":16,\"paddingRight\":16},\"pr-2\":{\"paddingRight\":8},\"text-gray-400\":{\"color\":\"#9ca3af\"},\"text-lg\":{\"fontSize\":18,\"lineHeight\":28}}});","map":{"version":3,"names":["React","useState","Currency","tw","Icon","urlFor","useDispatch","useSelector","addToBasket","removeFromBasket","selectBasketItemsWithId","DishRow","id","name","description","price","image","isPressed","setIsPressed","items","state","dispatch","addItemToBasket","removeItemFromBasket","console","log","uri","url"],"sources":["/Users/yamistudio/projects/React-native/foody-react-native/components/DishRow.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Currency from 'react-currency-formatter';\nimport tw from 'twrnc';\nimport Icon from 'react-native-vector-icons/Ionicons'\nimport { urlFor } from '../sanity';\nimport { View, Text, TouchableOpacity, Image } from 'react-native';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addToBasket, removeFromBasket, selectBasketItemsWithId } from '../features/basketSlice';\n\nconst DishRow = ({ id, name, description, price, image }) => {\n    const [isPressed, setIsPressed] = useState(false);\n    const items = useSelector(state => selectBasketItemsWithId(state, id));\n    const dispatch = useDispatch();\n\n    const addItemToBasket = () => {\n        dispatch(addToBasket({\n            id,\n            name,\n            description,\n            price,\n            image\n        }))\n    };\n\n    const removeItemFromBasket = () => {\n\n      dispatch(removeFromBasket({\n            id\n        }))\n    };\n\n    console.log(items);\n\n    return (\n        <>\n            <TouchableOpacity\n              onPress={() => setIsPressed(!isPressed)}\n              style={tw`bg-white border p-4 border-gray-200\n                ${isPressed && \"border-b-0\"}\n              `}\n              >\n                <View style={tw`flex-row`}>\n                    <View style={tw`flex-1 pr-2`}>\n                        <Text style={tw`text-lg mb-1`}>{name}</Text>\n                        <Text style={tw`text-gray-400`}>{description}</Text>\n                        <Text style={tw`text-gray-400`}>\n                            <Currency quantity={price} currency=\"CHF\" />\n                        </Text>\n                    </View>\n\n                <View>\n                    <Image source={{\n                        uri: urlFor(image).url()\n                    }} style={tw`w-20 h-20 bg-gray-300 p-4`} />\n                </View>\n            </View>\n            </TouchableOpacity>\n\n            { isPressed && (\n                <View style={tw`bg-white px-4 p-2`}>\n                    <View style={tw`flex-row items-center`}>\n                        <TouchableOpacity\n                            disabled={!items}\n                            onPress={removeItemFromBasket}\n                        >\n                            {/* Minus circle Icon */}\n                            <Icon\n                              name=\"remove-circle\"\n                              size={40}\n                              color={items > 0 ? \"#00CCBB\" : \"gray\"} />\n                        </TouchableOpacity>\n\n                        <Text style={tw`ml-1`}>\n                            {items}\n                        </Text>\n\n                        <TouchableOpacity\n                          onPress={addItemToBasket}\n                          style={tw`ml-1`}>\n                            {/* Plus circle Icon */}\n                            <Icon name=\"add-circle\" size={40} color=\"#00CCBB\" />\n                        </TouchableOpacity>\n                    </View>\n                </View>\n            )}\n        </>\n    );\n}\n\nexport default DishRow;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}