{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";var _excluded=[\"animating\",\"children\",\"color\",\"direction\",\"hidesWhenStopped\",\"size\",\"style\",\"thickness\",\"strokeCap\"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import PropTypes from'prop-types';import Animated from\"react-native-web/dist/exports/Animated\";import Easing from\"react-native-web/dist/exports/Easing\";import{Svg}from'react-native-svg';import Arc from\"./Shapes/Arc\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AnimatedArc=Animated.createAnimatedComponent(Arc);var MIN_ARC_ANGLE=0.1;var MAX_ARC_ANGLE=1.5*Math.PI;var CircleSnail=function(_Component){_inherits(CircleSnail,_Component);var _super=_createSuper(CircleSnail);function CircleSnail(props){var _this;_classCallCheck(this,CircleSnail);_this=_super.call(this,props);_this.state={startAngle:new Animated.Value(-MIN_ARC_ANGLE),endAngle:new Animated.Value(0),rotation:new Animated.Value(0),colorIndex:0};return _this;}_createClass(CircleSnail,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.animating){this.animate();this.spin();}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.animating!==this.props.animating){if(this.props.animating){this.animate();this.spin();}else{this.stopAnimations();}}}},{key:\"animate\",value:function animate(){var _this2=this;var iteration=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;Animated.sequence([Animated.timing(this.state.startAngle,{toValue:-MAX_ARC_ANGLE*iteration-MIN_ARC_ANGLE,duration:this.props.duration||1000,isInteraction:false,easing:Easing.inOut(Easing.quad),useNativeDriver:this.props.useNativeDriver}),Animated.timing(this.state.endAngle,{toValue:-MAX_ARC_ANGLE*iteration,duration:this.props.duration||1000,isInteraction:false,easing:Easing.inOut(Easing.quad),useNativeDriver:this.props.useNativeDriver})]).start(function(endState){if(endState.finished){if(Array.isArray(_this2.props.color)){_this2.setState({colorIndex:iteration%_this2.props.color.length});}_this2.animate(iteration+1);}});}},{key:\"spin\",value:function spin(){var _this3=this;Animated.timing(this.state.rotation,{toValue:1,duration:this.props.spinDuration||5000,easing:Easing.linear,isInteraction:false,useNativeDriver:this.props.useNativeDriver}).start(function(endState){if(endState.finished){_this3.state.rotation.setValue(0);_this3.spin();}});}},{key:\"stopAnimations\",value:function stopAnimations(){this.state.startAngle.stopAnimation();this.state.endAngle.stopAnimation();this.state.rotation.stopAnimation();}},{key:\"render\",value:function render(){var _this$props=this.props,animating=_this$props.animating,children=_this$props.children,color=_this$props.color,direction=_this$props.direction,hidesWhenStopped=_this$props.hidesWhenStopped,size=_this$props.size,style=_this$props.style,thickness=_this$props.thickness,strokeCap=_this$props.strokeCap,restProps=_objectWithoutProperties(_this$props,_excluded);if(!animating&&hidesWhenStopped){return null;}var radius=size/2-thickness;var offset={top:thickness,left:thickness};var directionFactor=direction==='counter-clockwise'?-1:1;return _jsxs(Animated.View,_objectSpread(_objectSpread({},restProps),{},{style:[style,{backgroundColor:'transparent',overflow:'hidden',transform:[{rotate:this.state.rotation.interpolate({inputRange:[0,1],outputRange:['0deg',directionFactor*360+\"deg\"]})}]}],children:[_jsx(Svg,{width:size,height:size,children:_jsx(AnimatedArc,{direction:direction==='counter-clockwise'?'clockwise':'counter-clockwise',radius:radius,stroke:Array.isArray(color)?color[this.state.colorIndex]:color,offset:offset,startAngle:this.state.startAngle,endAngle:this.state.endAngle,strokeCap:strokeCap,strokeWidth:thickness})}),children]}));}}]);return CircleSnail;}(Component);CircleSnail.propTypes={animating:PropTypes.bool,color:PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),children:PropTypes.node,direction:PropTypes.oneOf(['clockwise','counter-clockwise']),duration:PropTypes.number,hidesWhenStopped:PropTypes.bool,size:PropTypes.number,spinDuration:PropTypes.number,style:PropTypes.any,thickness:PropTypes.number,strokeCap:PropTypes.string,useNativeDriver:PropTypes.bool};CircleSnail.defaultProps={animating:true,color:'rgba(0, 122, 255, 1)',direction:'counter-clockwise',hidesWhenStopped:false,size:40,thickness:3,strokeCap:'round',useNativeDriver:false};export{CircleSnail as default};","map":{"version":3,"names":["React","Component","PropTypes","Svg","Arc","AnimatedArc","Animated","createAnimatedComponent","MIN_ARC_ANGLE","MAX_ARC_ANGLE","Math","PI","CircleSnail","props","state","startAngle","Value","endAngle","rotation","colorIndex","animating","animate","spin","prevProps","stopAnimations","iteration","sequence","timing","toValue","duration","isInteraction","easing","Easing","inOut","quad","useNativeDriver","start","endState","finished","Array","isArray","color","setState","length","spinDuration","linear","setValue","stopAnimation","children","direction","hidesWhenStopped","size","style","thickness","strokeCap","restProps","radius","offset","top","left","directionFactor","backgroundColor","overflow","transform","rotate","interpolate","inputRange","outputRange","propTypes","bool","oneOfType","string","arrayOf","node","oneOf","number","any","defaultProps"],"sources":["/Users/yamistudio/projects/React-native/foody-react-native/node_modules/react-native-progress/CircleSnail.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Animated, Easing } from 'react-native';\nimport { Svg } from 'react-native-svg';\n\nimport Arc from './Shapes/Arc';\n\nconst AnimatedArc = Animated.createAnimatedComponent(Arc);\n\nconst MIN_ARC_ANGLE = 0.1;\nconst MAX_ARC_ANGLE = 1.5 * Math.PI;\n\nexport default class CircleSnail extends Component {\n  static propTypes = {\n    animating: PropTypes.bool,\n    color: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.arrayOf(PropTypes.string),\n    ]),\n    children: PropTypes.node,\n    direction: PropTypes.oneOf(['clockwise', 'counter-clockwise']),\n    duration: PropTypes.number,\n    hidesWhenStopped: PropTypes.bool,\n    size: PropTypes.number,\n    spinDuration: PropTypes.number,\n    style: PropTypes.any,\n    thickness: PropTypes.number,\n    strokeCap: PropTypes.string,\n    useNativeDriver: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    animating: true,\n    color: 'rgba(0, 122, 255, 1)',\n    direction: 'counter-clockwise',\n    hidesWhenStopped: false,\n    size: 40,\n    thickness: 3,\n    strokeCap: 'round',\n    useNativeDriver: false,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      startAngle: new Animated.Value(-MIN_ARC_ANGLE),\n      endAngle: new Animated.Value(0),\n      rotation: new Animated.Value(0),\n      colorIndex: 0,\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.animating) {\n      this.animate();\n      this.spin();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.animating !== this.props.animating) {\n      if (this.props.animating) {\n        this.animate();\n        this.spin();\n      } else {\n        this.stopAnimations();\n      }\n    }\n  }\n\n  animate(iteration = 1) {\n    Animated.sequence([\n      Animated.timing(this.state.startAngle, {\n        toValue: -MAX_ARC_ANGLE * iteration - MIN_ARC_ANGLE,\n        duration: this.props.duration || 1000,\n        isInteraction: false,\n        easing: Easing.inOut(Easing.quad),\n        useNativeDriver: this.props.useNativeDriver,\n      }),\n      Animated.timing(this.state.endAngle, {\n        toValue: -MAX_ARC_ANGLE * iteration,\n        duration: this.props.duration || 1000,\n        isInteraction: false,\n        easing: Easing.inOut(Easing.quad),\n        useNativeDriver: this.props.useNativeDriver,\n      }),\n    ]).start(endState => {\n      if (endState.finished) {\n        if (Array.isArray(this.props.color)) {\n          this.setState({\n            colorIndex: iteration % this.props.color.length,\n          });\n        }\n        this.animate(iteration + 1);\n      }\n    });\n  }\n\n  spin() {\n    Animated.timing(this.state.rotation, {\n      toValue: 1,\n      duration: this.props.spinDuration || 5000,\n      easing: Easing.linear,\n      isInteraction: false,\n      useNativeDriver: this.props.useNativeDriver,\n    }).start(endState => {\n      if (endState.finished) {\n        this.state.rotation.setValue(0);\n        this.spin();\n      }\n    });\n  }\n\n  stopAnimations() {\n    this.state.startAngle.stopAnimation();\n    this.state.endAngle.stopAnimation();\n    this.state.rotation.stopAnimation();\n  }\n\n  render() {\n    const {\n      animating,\n      children,\n      color,\n      direction,\n      hidesWhenStopped,\n      size,\n      style,\n      thickness,\n      strokeCap,\n      ...restProps\n    } = this.props;\n\n    if (!animating && hidesWhenStopped) {\n      return null;\n    }\n\n    const radius = size / 2 - thickness;\n    const offset = {\n      top: thickness,\n      left: thickness,\n    };\n\n    const directionFactor = direction === 'counter-clockwise' ? -1 : 1;\n\n    return (\n      <Animated.View\n        {...restProps}\n        style={[\n          style,\n          {\n            backgroundColor: 'transparent',\n            overflow: 'hidden',\n            transform: [\n              {\n                rotate: this.state.rotation.interpolate({\n                  inputRange: [0, 1],\n                  outputRange: ['0deg', `${directionFactor * 360}deg`],\n                }),\n              },\n            ],\n          },\n        ]}\n      >\n        <Svg width={size} height={size}>\n          <AnimatedArc\n            direction={\n              direction === 'counter-clockwise'\n                ? 'clockwise'\n                : 'counter-clockwise'\n            }\n            radius={radius}\n            stroke={Array.isArray(color) ? color[this.state.colorIndex] : color}\n            offset={offset}\n            startAngle={this.state.startAngle}\n            endAngle={this.state.endAngle}\n            strokeCap={strokeCap}\n            strokeWidth={thickness}\n          />\n        </Svg>\n        {children}\n      </Animated.View>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}